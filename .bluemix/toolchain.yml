---
default_locale: en
locales: 
  $ref: locales.yml
name: "Docker-Compose Sample toolchain"
description: "With this toolchain, you can develop and deploy a docker-compose application. By default, the toolchain uses a sample java \"To Do List\" app, or you can link to your own GitHub repository. This toolchain is preconfigured for continuous delivery, source control, and online editing.\n\nThis toolchain uses tools that are part of the Continuous Delivery service. If an instance of that service isn't already in your organization, when you click **Create**, it is automatically added at no cost to you. For more information and terms, see the [Bluemix catalog](/catalog/services/continuous-delivery/).\n\nTo get started, click **Create**."
version: 0.1
image: data:image/svg+xml;base64,$file(toolchain.svg,base64)
icon: data:image/svg+xml;base64,$file(icon.svg,base64)
required: 
 - deploy
 - jar-repo

# Github repos
jar-repo:
  service_id: jar-repo
  parameters:
    repo_name: "{{name}}-jar-repo"
    repo_url: https://github.com/floresam/jar-repo
    type: clone
    has_issues: false
jar-source-repo:
  service_id: jar-source-repo
  parameters:
    repo_name: "{{name}}-jar-source-repo"
    repo_url: https://github.com/jeffet/dateUtils
    type: clone
    has_issues: false

# Pipelines
jar-publish:
  service_id: pipeline
  parameters:
    name: "JAR Publish"
	ui-pipeline: true
	configuration:
	content: $file(jar-publish-pipeline.yml)
	services: ["jar-repo"]
  hidden: [form, description]

#Web IDE
webide:
  service_id: orion
  
#Deployment
deploy:
  schema: 
    $ref: deploy.json
  service-category: pipeline
  parameters:
    prod-app-name: "{{jar-repo.parameters.repo_name}}"
